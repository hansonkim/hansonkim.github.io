---
layout: base.njk
---

{% set fileTree = page | buildFileTree(collections) %}

<div class="post-layout">
  <article class="post">
    <header class="post-header">
      <h1>{{ title }}</h1>
      <time datetime="{{ date | dateDisplay }}">{{ date | dateDisplay }}</time>
      {% if tags %}
      <div class="tags">
        {% for tag in tags %}
          {% if tag != "posts" %}
          <a href="/tags/{{ tag | slugify }}/" class="tag">{{ tag }}</a>
          {% endif %}
        {% endfor %}
      </div>
      {% endif %}
    </header>

    <div class="post-content">
      {{ content | safe }}
    </div>
  </article>

  {% if fileTree.length > 0 %}
  <aside class="post-sidebar">
    <div class="sidebar-header">
      <h3>ðŸ“š ëª©ì°¨</h3>
    </div>
    <nav class="file-tree">
      {% for item in fileTree %}
        {% include "tree-node.njk" %}
      {% endfor %}
    </nav>
  </aside>
  {% endif %}
</div>
