---
layout: base.njk
---

{% set fileTree = page | buildFileTree(collections) %}

<div class="post-layout flex flex-col lg:flex-row gap-10 mt-10 items-start relative">
  <article class="post flex-1 min-w-0 max-w-4xl mt-0 order-1">
    <header class="post-header mb-10 pb-5 border-b-2 border-gray-200">
      <h1 class="text-3xl md:text-4xl mb-4 text-gray-800 font-extrabold leading-tight">{{ title }}</h1>
      <time datetime="{{ date | dateDisplay }}" class="text-gray-500 text-sm inline-flex items-center font-medium">{{ date | dateDisplay }}</time>
      {% if tags %}
      <div class="tags mt-4 flex gap-2.5 flex-wrap">
        {% for tag in tags %}
          {% if tag != "posts" %}
          <a href="/tags/{{ tag | slugify }}/" class="tag inline-block px-4 py-1.5 rounded-2xl text-xs font-semibold border transition-all duration-300 ease-in-out hover:-translate-y-0.5 hover:shadow-md">{{ tag }}</a>
          {% endif %}
        {% endfor %}
      </div>
      {% endif %}
    </header>

    <div class="post-content leading-relaxed text-lg">
      {{ content | safe }}
    </div>
  </article>

  {% if fileTree.length > 0 %}
  <aside class="post-sidebar w-full lg:w-70 flex-shrink-0 lg:sticky lg:top-[100px] lg:max-h-[calc(100vh-120px)] overflow-y-auto bg-white rounded-2xl p-5 shadow-md border border-gray-200 order-2">
    <div class="sidebar-header mb-5 pb-4 border-b-2 border-gray-200">
      <h3 class="text-lg text-gray-800 font-bold m-0">ðŸ“š ëª©ì°¨</h3>
    </div>
    <nav class="file-tree text-sm flex flex-col gap-0">
      {% for item in fileTree %}
        {% include "tree-node.njk" %}
      {% endfor %}
    </nav>
  </aside>
  {% endif %}
</div>
