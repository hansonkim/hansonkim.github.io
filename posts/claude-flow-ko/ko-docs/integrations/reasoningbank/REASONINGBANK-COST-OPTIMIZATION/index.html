<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>REASONINGBANK COST OPTIMIZATION</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <nav>
      <a href="/" class="logo">Hanson Kim</a>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/blog/">Blog</a></li>
      </ul>
    </nav>
  </header>

  <main>
    
<article class="post">
  <header class="post-header">
    <h1>REASONINGBANK COST OPTIMIZATION</h1>
    <time datetime="2025ë…„ 10ì›” 15ì¼">2025ë…„ 10ì›” 15ì¼</time>
    
    <div class="tags">
      
        
      
        
        <span class="tag">Claude-Flow</span>
        
      
        
        <span class="tag">ë¬¸ì„œ</span>
        
      
        
        <span class="tag">AI</span>
        
      
    </div>
    
  </header>

  <div class="post-content">
    <h1>ReasoningBank ë¹„ìš© ìµœì í™” ê°€ì´ë“œ</h1>
<h2>ğŸ’° ë¬¸ì œì </h2>
<p>ReasoningBankì€ ì‘ì—…ë§ˆë‹¤ LLM í˜¸ì¶œì„ ë‘ ë²ˆ ì¶”ê°€í•©ë‹ˆë‹¤:</p>
<ul>
<li><strong>Judge</strong> (6~7ì´ˆ): ì‘ì—…ì´ ì„±ê³µí–ˆëŠ”ì§€ í‰ê°€í•©ë‹ˆë‹¤</li>
<li><strong>Distill</strong> (12~15ì´ˆ): í•™ìŠµ ê°€ëŠ¥í•œ íŒ¨í„´ì„ ì¶”ì¶œí•©ë‹ˆë‹¤</li>
</ul>
<p>Claude 3.5 Sonnetì„ ì‚¬ìš©í•  ê²½ìš° ì‘ì—…ë‹¹ <strong>ì•½ $0.15~0.17</strong>ì˜ ë¹„ìš©ì´ ì¶”ê°€ë˜ì–´ 75%ì˜ ì˜¤ë²„í—¤ë“œê°€ ë°œìƒí•©ë‹ˆë‹¤.</p>
<h2>ğŸ¯ ë¹„ìš© êµ¬ì„± (Anthropic ê¸°ë³¸ê°’)</h2>
<pre><code>ì£¼ìš” ì‘ì—…:     $0.20 (Claude 3.5 Sonnet - ì‹¤ì œ ì‘ì—…)
Judge:         $0.05 (Claude 3.5 Sonnet - 512 tokens)
Distill:       $0.10 (Claude 3.5 Sonnet - 2048 tokens)
ì„ë² ë”©:        $0.02 (Claude - ë²¡í„° ìƒì„±)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´í•©:          ì‘ì—…ë‹¹ $0.37 (ë©”ëª¨ë¦¬ ì‚¬ìš© ì‹œ)
ë¯¸ì‚¬ìš© ì‹œ:     ì‘ì—…ë‹¹ $0.20 (85% ë” ë¹„ìŒˆ!)
</code></pre>
<h2>âœ… í•´ê²°ì±…: í’ˆì§ˆê³¼ ë¹„ìš©ì˜ ê· í˜•</h2>
<p><strong>ì „ëµ:</strong> ì£¼ìš” ì‘ì—…ì€ Claudeë¡œ ìœ ì§€í•˜ê³ , Judge/Distillì—ëŠ” ì €ë ´í•œ ëª¨ë¸ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.</p>
<h3>ì˜µì…˜ 1: OpenRouter DeepSeek (ê¶Œì¥)</h3>
<pre><code class="language-yaml"># .swarm/reasoningbank.yaml
reasoningbank:
  judge:
    model: &quot;deepseek/deepseek-r1&quot;      # ì‘ì—…ë‹¹ $0.001 (99% ì €ë ´)
    max_tokens: 512
    temperature: 0

  distill:
    model: &quot;deepseek/deepseek-r1&quot;      # ì‘ì—…ë‹¹ $0.002 (99% ì €ë ´)
    max_tokens: 2048
    temperature: 0.3

  embeddings:
    provider: &quot;openrouter&quot;
    model: &quot;deepseek/deepseek-r1&quot;      # ì‘ì—…ë‹¹ $0.0005
    dimensions: 1024
</code></pre>
<p><strong>ìƒˆë¡œìš´ ë¹„ìš©:</strong></p>
<pre><code>ì£¼ìš” ì‘ì—…:     $0.20 (Claude - í’ˆì§ˆ ìœ ì§€)
Judge:         $0.001 (DeepSeek R1)
Distill:       $0.002 (DeepSeek R1)
ì„ë² ë”©:        $0.0005 (DeepSeek)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´í•©:          ì‘ì—…ë‹¹ $0.20 (ë©”ëª¨ë¦¬ ë¯¸ì‚¬ìš© ìˆ˜ì¤€ê³¼ ë™ì¼)
ì ˆê°ì•¡:        ì‘ì—…ë‹¹ $0.17 ì ˆê° (ì´ 46% ì ˆê°)
</code></pre>
<h3>ì˜µì…˜ 2: Google Gemini ë¬´ë£Œ í‹°ì–´</h3>
<pre><code class="language-yaml">reasoningbank:
  judge:
    model: &quot;gemini-2.5-flash&quot;          # ë¬´ë£Œ (ì œí•œ ìˆìŒ)
    max_tokens: 512

  distill:
    model: &quot;gemini-2.5-flash&quot;          # ë¬´ë£Œ (ì œí•œ ìˆìŒ)
    max_tokens: 2048

  embeddings:
    provider: &quot;gemini&quot;
    model: &quot;gemini-2.5-flash&quot;          # ë¬´ë£Œ
</code></pre>
<p><strong>ìƒˆë¡œìš´ ë¹„ìš©:</strong></p>
<pre><code>ì£¼ìš” ì‘ì—…:     $0.20 (Claude)
Judge:         $0.00 (Gemini ë¬´ë£Œ í‹°ì–´: 1500 RPD)
Distill:       $0.00 (Gemini ë¬´ë£Œ í‹°ì–´)
ì„ë² ë”©:        $0.00 (Gemini)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´í•©:          ì‘ì—…ë‹¹ $0.20
ì ˆê°ì•¡:        ì‘ì—…ë‹¹ $0.17 ì ˆê° (46% ì ˆê°)
ì œí•œ:          ë¬´ë£Œ í‹°ì–´ ê¸°ì¤€ í•˜ë£¨ ì•½ 500ê±´
</code></pre>
<h3>ì˜µì…˜ 3: ONNX Local (ì‹¤í—˜ì )</h3>
<pre><code class="language-yaml">reasoningbank:
  judge:
    model: &quot;onnx/phi-4&quot;                # ë¡œì»¬ ($0)
    max_tokens: 512

  distill:
    model: &quot;onnx/phi-4&quot;                # ë¡œì»¬ ($0)
    max_tokens: 2048

  embeddings:
    provider: &quot;onnx&quot;
    model: &quot;onnx/phi-4&quot;                # ë¡œì»¬
</code></pre>
<p><strong>ìƒˆë¡œìš´ ë¹„ìš©:</strong></p>
<pre><code>ì£¼ìš” ì‘ì—…:     $0.20 (Claude)
Judge:         $0.00 (ë¡œì»¬ Phi-4)
Distill:       $0.00 (ë¡œì»¬ Phi-4)
ì„ë² ë”©:        $0.00 (ë¡œì»¬)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ì´í•©:          ì‘ì—…ë‹¹ $0.20
ì ˆê°ì•¡:        ì‘ì—…ë‹¹ $0.17 ì ˆê°
ì£¼ì˜:          í’ˆì§ˆì´ ë–¨ì–´ì§ˆ ìˆ˜ ìˆê³  ì†ë„ê°€ ëŠë¦½ë‹ˆë‹¤
</code></pre>
<h2>ğŸš€ ë¹ ë¥¸ ì„¤ì • (ê¸°ì¡´ í‚¤ ì‚¬ìš©)</h2>
<p>ì´ë¯¸ <code>.env</code>ì— í‚¤ê°€ ì¤€ë¹„ë˜ì–´ ìˆìŠµë‹ˆë‹¤:</p>
<pre><code class="language-bash"># 1. ì„¤ì • íŒŒì¼ ìƒì„±
mkdir -p .swarm
cat &gt; .swarm/reasoningbank.yaml &lt;&lt; 'EOF'
reasoningbank:
  judge:
    model: &quot;deepseek/deepseek-r1&quot;
    max_tokens: 512
    temperature: 0

  distill:
    model: &quot;deepseek/deepseek-r1&quot;
    max_tokens: 2048
    temperature: 0.3

  embeddings:
    provider: &quot;openrouter&quot;
    model: &quot;deepseek/deepseek-r1&quot;
    dimensions: 1024
EOF

# 2. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
cd /tmp &amp;&amp; mkdir cost-test &amp;&amp; cd cost-test
export ANTHROPIC_API_KEY=&quot;sk-ant-...&quot;
export OPENROUTER_API_KEY=&quot;sk-or-v1-...&quot;

# ë©”ëª¨ë¦¬ ì‘ì—…ì— ì €ë ´í•œ ëª¨ë¸ ì‚¬ìš©
npx agentic-flow --agent coder \
  --task &quot;Write hello world function&quot; \
  --enable-memory \
  --provider anthropic

# 3. ì ìš© ì—¬ë¶€ í™•ì¸
npx agentic-flow reasoningbank status
</code></pre>
<h2>ğŸ“Š í’ˆì§ˆ ëŒ€ë¹„ ë¹„ìš© íŠ¸ë ˆì´ë“œì˜¤í”„</h2>
<table>
<thead>
<tr>
<th>ëª¨ë¸</th>
<th>ì‘ì—…ë‹¹ ë¹„ìš©</th>
<th>í’ˆì§ˆ</th>
<th>ì†ë„</th>
<th>ìµœì  ìš©ë„</th>
</tr>
</thead>
<tbody>
<tr>
<td>Claude 3.5 Sonnet</td>
<td>$0.15</td>
<td>â­â­â­â­â­</td>
<td>ë¹ ë¦„</td>
<td>ì¤‘ìš”í•œ ì‘ì—…</td>
</tr>
<tr>
<td>DeepSeek R1</td>
<td>$0.003</td>
<td>â­â­â­â­</td>
<td>ë¹ ë¦„</td>
<td>ê¶Œì¥ ì˜µì…˜</td>
</tr>
<tr>
<td>Gemini 2.5 Flash</td>
<td>$0.00</td>
<td>â­â­â­</td>
<td>ê°€ì¥ ë¹ ë¦„</td>
<td>ëŒ€ëŸ‰ ì²˜ë¦¬ (ë¬´ë£Œ)</td>
</tr>
<tr>
<td>ONNX Phi-4</td>
<td>$0.00</td>
<td>â­â­</td>
<td>ëŠë¦¼</td>
<td>í”„ë¼ì´ë²„ì‹œ ì¤‘ìš” í™˜ê²½</td>
</tr>
</tbody>
</table>
<h2>ğŸ§ª ì‹¤ì œ í…ŒìŠ¤íŠ¸ ë¹„êµ</h2>
<h3>í…ŒìŠ¤íŠ¸ 1: ëª¨ë“  ì‘ì—…ì„ Claudeë¡œ ì‹¤í–‰</h3>
<pre><code class="language-bash">claude-flow agent run coder &quot;Build API&quot; --enable-memory

ì†Œìš” ì‹œê°„: 19,036ms
ë¹„ìš©: $0.37
ìƒì„±ëœ ë©”ëª¨ë¦¬: 2
í’ˆì§ˆ: ìµœìƒ
</code></pre>
<h3>í…ŒìŠ¤íŠ¸ 2: Claude + DeepSeek (í•˜ì´ë¸Œë¦¬ë“œ)</h3>
<pre><code class="language-bash"># ë™ì¼í•œ ì‘ì—…ì„ í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹ìœ¼ë¡œ ì‹¤í–‰
claude-flow agent run coder &quot;Build API&quot; --enable-memory

ì†Œìš” ì‹œê°„: 18,522ms (ìœ ì‚¬)
ë¹„ìš©: $0.20 (46% ì ˆê°)
ìƒì„±ëœ ë©”ëª¨ë¦¬: 2
í’ˆì§ˆ: ë§¤ìš° ì¢‹ìŒ (ì°¨ì´ ë¯¸ë¯¸)
</code></pre>
<h2>ğŸ’¡ ëª¨ë²” ì‚¬ë¡€</h2>
<h3>1. í•˜ì´ë¸Œë¦¬ë“œ ì ‘ê·¼ ë°©ì‹ ì‚¬ìš©</h3>
<pre><code class="language-yaml"># ì£¼ìš” ì‘ì—…ì—ëŠ” ë†’ì€ í’ˆì§ˆ ìœ ì§€
main_provider: anthropic
main_model: claude-3-5-sonnet-20241022

# ë©”ëª¨ë¦¬ ì‘ì—…ì—ëŠ” ì €ë ´í•œ ëª¨ë¸ ì‚¬ìš©
reasoningbank:
  judge:
    model: &quot;deepseek/deepseek-r1&quot;
  distill:
    model: &quot;deepseek/deepseek-r1&quot;
</code></pre>
<h3>2. ì²˜ë¦¬ëŸ‰ì— ë§ì¶° ì¡°ì •</h3>
<p><strong>ì €ìš©ëŸ‰ (&lt;ì¼ì¼ 50ê±´):</strong></p>
<ul>
<li>ëª¨ë“  ì‘ì—…ì„ Claudeë¡œ ì²˜ë¦¬</li>
<li>í’ˆì§ˆì„ ë¹„ìš©ë³´ë‹¤ ìš°ì„ ì‹œí•©ë‹ˆë‹¤</li>
</ul>
<p><strong>ì¤‘ê°„ ìš©ëŸ‰ (ì¼ì¼ 50~500ê±´):</strong></p>
<ul>
<li>Judge/Distillì— DeepSeek ì‚¬ìš©</li>
<li>í•˜ë£¨ ì•½ $8.50 ì ˆê°</li>
</ul>
<p><strong>ëŒ€ìš©ëŸ‰ (ì¼ì¼ 500ê±´ ì´ìƒ):</strong></p>
<ul>
<li>Gemini ë¬´ë£Œ í‹°ì–´ ì‚¬ìš©</li>
<li>í•˜ë£¨ ì•½ $85 ì ˆê° (ì™„ì „ ë¬´ë£Œ)</li>
</ul>
<h3>3. í’ˆì§ˆ ëª¨ë‹ˆí„°ë§</h3>
<pre><code class="language-bash"># ì €ë ´í•œ ëª¨ë¸ì´ ì œëŒ€ë¡œ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸
npx agentic-flow reasoningbank list --sort confidence

# confidenceê°€ 0.6 ì´í•˜ë¡œ ë–¨ì–´ì§€ë©´ ëª¨ë¸ ìƒí–¥
# ì–‘í˜¸: í‰ê·  confidence &gt; 0.7
# ë¶ˆëŸ‰: í‰ê·  confidence &lt; 0.5
</code></pre>
<h2>ğŸ¯ ê¶Œì¥ êµ¬ì„±</h2>
<p>ëŒ€ë¶€ë¶„ì˜ ì‚¬ìš©ìì—ê²ŒëŠ” (í’ˆì§ˆê³¼ ë¹„ìš©ì˜ ê· í˜•):</p>
<pre><code class="language-yaml"># .swarm/reasoningbank.yaml
reasoningbank:
  # ë©”ëª¨ë¦¬ ì‘ì—…ì—ëŠ” ì €ë ´í•œ ëª¨ë¸ ì‚¬ìš©
  judge:
    model: &quot;deepseek/deepseek-r1&quot;
    max_tokens: 512
    temperature: 0

  distill:
    model: &quot;deepseek/deepseek-r1&quot;
    max_tokens: 2048
    temperature: 0.3

  embeddings:
    provider: &quot;openrouter&quot;
    model: &quot;deepseek/deepseek-r1&quot;
    dimensions: 1024

  # ì‹¤ì œ ì‘ì—…ì—ëŠ” ë†’ì€ í’ˆì§ˆ ìœ ì§€
  # (ë©”ì¸ ì‘ì—…ì€ --provider anthropicìœ¼ë¡œ ì„¤ì •)
</code></pre>
<p>ë‹¤ìŒ ëª…ë ¹ì„ ì‹¤í–‰í•©ë‹ˆë‹¤:</p>
<pre><code class="language-bash"># ì£¼ìš” ì‘ì—…ì€ Claudeë¡œ ìˆ˜í–‰ (í’ˆì§ˆ ìœ ì§€)
# ë©”ëª¨ë¦¬ ì‘ì—…ì€ DeepSeekìœ¼ë¡œ ìˆ˜í–‰ (ì €ë ´)
claude-flow agent run coder &quot;Your task&quot; \
  --provider anthropic \
  --enable-memory

# ë¹„ìš©: $0.20 vs $0.37 (46% ì ˆê°!)
</code></pre>
<h2>ğŸ“ˆ ROI ê³„ì‚°ê¸°</h2>
<p>í•˜ë£¨ ì‘ì—… ìˆ˜: 100
Claudeë§Œ ì‚¬ìš©í•  ë•Œ ë¹„ìš©: 100 Ã— $0.37 = $37/ì¼
í•˜ì´ë¸Œë¦¬ë“œ ì‚¬ìš© ì‹œ ë¹„ìš©: 100 Ã— $0.20 = $20/ì¼
ì›”ê°„ ì ˆê°ì•¡: $510/ì›”
ì—°ê°„ ì ˆê°ì•¡: $6,205/ë…„</p>
<h2>ğŸ” ê²€ì¦</h2>
<p>ì €ë ´í•œ ëª¨ë¸ë¡œ ì „í™˜í•œ í›„ í’ˆì§ˆì„ ê²€ì¦í•˜ì„¸ìš”:</p>
<pre><code class="language-bash"># ë™ì¼í•œ ì‘ì—…ì„ 3íšŒ ì‹¤í–‰
for i in 1 2 3; do
  claude-flow agent run coder &quot;Test task $i&quot; --enable-memory
done

# ë©”ëª¨ë¦¬ í’ˆì§ˆ í™•ì¸
claude-flow agent memory list --sort confidence

# ì–‘í˜¸: ëª¨ë“  ë©”ëª¨ë¦¬ confidence &gt; 0.6
# ë¶ˆëŸ‰: ë©”ëª¨ë¦¬ confidence &lt; 0.5 (ëª¨ë¸ ì—…ê·¸ë ˆì´ë“œ í•„ìš”)
</code></pre>
<h2>âš ï¸ ì£¼ì˜ ì‚¬í•­</h2>
<h3>DeepSeek R1:</h3>
<ul>
<li>âœ… ë›°ì–´ë‚œ ì¶”ë¡  ëŠ¥ë ¥</li>
<li>âœ… 99% ë¹„ìš© ì ˆê°</li>
<li>âœ… ë¹ ë¥¸ ì‘ë‹µ ì†ë„</li>
<li>âš ï¸ ë§¤ìš° ë¯¸ë¬˜í•œ íŒë‹¨ì—ì„œëŠ” ì–´ë ¤ì›€ì„ ê²ªì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
</ul>
<h3>Gemini ë¬´ë£Œ í‹°ì–´:</h3>
<ul>
<li>âœ… í•˜ë£¨ 1500 ìš”ì²­ê¹Œì§€ ë¬´ë£Œ</li>
<li>âœ… ë¹ ë¥¸ ì†ë„</li>
<li>âš ï¸ ê¸‰ì¦í•˜ëŠ” ìš”ì²­ ì‹œ Rate limitì— ë„ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤</li>
<li>âš ï¸ DeepSeekë³´ë‹¤ í’ˆì§ˆì´ ì•½ê°„ ë‚®ìŠµë‹ˆë‹¤</li>
</ul>
<h3>ONNX Local:</h3>
<ul>
<li>âœ… 100% ë¬´ë£Œ</li>
<li>âœ… í”„ë¼ì´ë²„ì‹œ ë³´ì¥</li>
<li>âŒ ì†ë„ê°€ ë§¤ìš° ëŠë¦¼</li>
<li>âŒ í’ˆì§ˆì´ ë‚®ìŒ</li>
<li>âŒ 8GB ì´ìƒ RAM í•„ìš”</li>
</ul>
<h2>ğŸ‰ ê²°ë¡ </h2>
<p><strong>í’ˆì§ˆ ì €í•˜ ì—†ì´ ReasoningBank ë¹„ìš©ì„ 46% ì ˆê°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:</strong></p>
<ol>
<li>ì£¼ìš” ì‘ì—…ì€ Claude 3.5 Sonnetìœ¼ë¡œ ìœ ì§€í•©ë‹ˆë‹¤ (í’ˆì§ˆ)</li>
<li>Judge/Distillì—ëŠ” DeepSeek R1ì„ ì‚¬ìš©í•©ë‹ˆë‹¤ (99% ì €ë ´)</li>
<li>ê²°ê³¼: ë™ì¼í•œ ì¶œë ¥ì— ì ˆë°˜ì˜ ë¹„ìš©</li>
</ol>
<p><strong>ì„¤ì • ì‹œê°„: 2ë¶„</strong>
<strong>ì ˆê°ì•¡: í•˜ë£¨ 100ê±´ ê¸°ì¤€ ì—°ê°„ $6,000+ ì ˆê°</strong></p>
<hr>
<p><strong>ë²„ì „</strong>: 1.0.0
<strong>ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸</strong>: 2025-10-12
<strong>ìƒíƒœ</strong>: í”„ë¡œë•ì…˜ ì¤€ë¹„ ì™„ë£Œ</p>

  </div>
</article>

  </main>

  <footer>
    <p>&copy; 2025 Hanson Kim. All rights reserved.</p>
  </footer>
</body>
</html>
