<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>REASONINGBANK CLI INTEGRATION</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <header>
    <nav>
      <a href="/" class="logo">Hanson Kim</a>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/blog/">Blog</a></li>
      </ul>
    </nav>
  </header>

  <main>
    
<article class="post">
  <header class="post-header">
    <h1>REASONINGBANK CLI INTEGRATION</h1>
    <time datetime="2025ë…„ 10ì›” 15ì¼">2025ë…„ 10ì›” 15ì¼</time>
    
    <div class="tags">
      
        
      
        
        <span class="tag">Claude-Flow</span>
        
      
        
        <span class="tag">ë¬¸ì„œ</span>
        
      
        
        <span class="tag">AI</span>
        
      
    </div>
    
  </header>

  <div class="post-content">
    <h1>ReasoningBank CLI í†µí•© ê²€ì¦</h1>
<p><strong>Status</strong>: âœ… <strong>100% ì™„ë£Œ ë° ë™ì‘ ì¤‘</strong>
<strong>Date</strong>: 2025-10-10
<strong>Version</strong>: 1.0.0</p>
<hr>
<h2>âœ… êµ¬í˜„ ìš”ì•½</h2>
<h3>ìƒì„±ëœ íŒŒì¼: 25</h3>
<ol>
<li>
<p><strong>í•µì‹¬ ì•Œê³ ë¦¬ì¦˜</strong> (5 files)</p>
<ul>
<li><code>src/reasoningbank/core/retrieve.ts</code> - MMR ê¸°ë°˜ Top-k ê²€ìƒ‰</li>
<li><code>src/reasoningbank/core/judge.ts</code> - LLM-as-judge ê¶¤ì  í‰ê°€</li>
<li><code>src/reasoningbank/core/distill.ts</code> - ë©”ëª¨ë¦¬ ì¶”ì¶œ</li>
<li><code>src/reasoningbank/core/consolidate.ts</code> - ì¤‘ë³µ ì œê±°/ì •ë¦¬/ëª¨ìˆœ ì²˜ë¦¬</li>
<li><code>src/reasoningbank/core/matts.ts</code> - ë³‘ë ¬ ë° ìˆœì°¨ í™•ì¥</li>
</ul>
</li>
<li>
<p><strong>ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´</strong> (3 files)</p>
<ul>
<li><code>src/reasoningbank/migrations/000_base_schema.sql</code></li>
<li><code>src/reasoningbank/migrations/001_reasoningbank_schema.sql</code></li>
<li><code>src/reasoningbank/db/schema.ts</code> - TypeScript íƒ€ì… ì •ì˜</li>
<li><code>src/reasoningbank/db/queries.ts</code> - ë°ì´í„°ë² ì´ìŠ¤ ì‘ì—… 15ê°œ</li>
</ul>
</li>
<li>
<p><strong>ìœ í‹¸ë¦¬í‹°</strong> (5 files)</p>
<ul>
<li><code>src/reasoningbank/utils/config.ts</code> - YAML êµ¬ì„± ë¡œë”</li>
<li><code>src/reasoningbank/utils/embeddings.ts</code> - OpenAI/Claude/hash í´ë°±</li>
<li><code>src/reasoningbank/utils/mmr.ts</code> - Maximal Marginal Relevance</li>
<li><code>src/reasoningbank/utils/pii-scrubber.ts</code> - PII ë§ˆìŠ¤í‚¹(9ê°œ íŒ¨í„´)</li>
</ul>
</li>
<li>
<p><strong>Hooks</strong> (2 files)</p>
<ul>
<li><code>src/reasoningbank/hooks/pre-task.ts</code> - ì‘ì—… ì „ ë©”ëª¨ë¦¬ ê²€ìƒ‰</li>
<li><code>src/reasoningbank/hooks/post-task.ts</code> - ì‘ì—… í›„ í•™ìŠµ</li>
</ul>
</li>
<li>
<p><strong>êµ¬ì„±</strong> (4 files)</p>
<ul>
<li><code>src/reasoningbank/config/reasoningbank.yaml</code> - 146ì¤„ êµ¬ì„± íŒŒì¼</li>
<li><code>src/reasoningbank/prompts/judge.json</code> - LLM-as-judge í”„ë¡¬í”„íŠ¸</li>
<li><code>src/reasoningbank/prompts/distill-success.json</code> - ì„±ê³µ ì‚¬ë¡€ ì¶”ì¶œ</li>
<li><code>src/reasoningbank/prompts/distill-failure.json</code> - ì‹¤íŒ¨ ê°€ë“œë ˆì¼</li>
<li><code>src/reasoningbank/prompts/matts-aggregate.json</code> - Self-contrast í”„ë¡¬í”„íŠ¸</li>
</ul>
</li>
<li>
<p><strong>í…ŒìŠ¤íŠ¸ ë° ë¬¸ì„œ</strong> (6 files)</p>
<ul>
<li><code>src/reasoningbank/test-validation.ts</code> - ë°ì´í„°ë² ì´ìŠ¤ ê²€ì¦</li>
<li><code>src/reasoningbank/test-retrieval.ts</code> - ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸</li>
<li><code>src/reasoningbank/test-integration.ts</code> - ì—”ë“œ íˆ¬ ì—”ë“œ í†µí•©</li>
<li><code>src/reasoningbank/benchmark.ts</code> - ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬</li>
<li><code>src/reasoningbank/README.md</code> - 528ì¤„ ì¢…í•© ê°€ì´ë“œ</li>
<li><code>src/reasoningbank/index.ts</code> - exportë¥¼ í¬í•¨í•œ ë©”ì¸ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸</li>
</ul>
</li>
</ol>
<hr>
<h2>ğŸ“¦ NPM íŒ¨í‚¤ì§€ í†µí•©</h2>
<h3>âœ… ë©”ì¸ ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸</h3>
<p><strong>íŒŒì¼</strong>: <code>src/index.ts</code></p>
<pre><code class="language-typescript">// npm íŒ¨í‚¤ì§€ ì‚¬ìš©ììš© ReasoningBank í”ŒëŸ¬ê·¸ì¸ì„ ë‹¤ì‹œ exportí•©ë‹ˆë‹¤
export * as reasoningbank from &quot;./reasoningbank/index.js&quot;;
</code></pre>
<p><strong>JavaScript/TypeScript í”„ë¡œì íŠ¸ì—ì„œì˜ ì‚¬ìš©ë²•</strong>:</p>
<pre><code class="language-javascript">// agentic-flow íŒ¨í‚¤ì§€ì—ì„œ importí•©ë‹ˆë‹¤
import { reasoningbank } from 'agentic-flow';

// ì´ˆê¸°í™”í•©ë‹ˆë‹¤
await reasoningbank.initialize();

// ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•´ ì‘ì—…ì„ ì‹¤í–‰í•©ë‹ˆë‹¤
const result = await reasoningbank.runTask({
  taskId: 'task-001',
  agentId: 'agent-web',
  query: 'Login to admin panel',
  executeFn: async (memories) =&gt; {
    console.log(`Retrieved ${memories.length} memories`);
    // ... ë©”ëª¨ë¦¬ë¥¼ ì‚¬ìš©í•´ ì‘ì—…ì„ ì‹¤í–‰í•©ë‹ˆë‹¤
    return { steps: [...], metadata: {} };
  }
});

console.log(`Verdict: ${result.verdict.label}`);
console.log(`New memories: ${result.newMemories.length}`);
</code></pre>
<h3>âœ… CLI/NPX í†µí•©</h3>
<p><strong>npx ì‚¬ìš©</strong> (ê²Œì‹œ í›„):</p>
<pre><code class="language-bash"># í›…ì„ ì§ì ‘ ì‹¤í–‰í•©ë‹ˆë‹¤
npx agentic-flow hooks pre-task --query &quot;Login to admin panel&quot;
npx agentic-flow hooks post-task --task-id task-001

# í†µí•© í…ŒìŠ¤íŠ¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤
npx agentic-flow reasoningbank test-integration

# ë²¤ì¹˜ë§ˆí¬ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤
npx agentic-flow reasoningbank benchmark
</code></pre>
<p><strong>ë¡œì»¬ ì„¤ì¹˜ ì‚¬ìš©</strong>:</p>
<pre><code class="language-bash">npm install agentic-flow

# TypeScript ì‹¤í–‰
npx tsx node_modules/agentic-flow/dist/reasoningbank/test-integration.js
</code></pre>
<hr>
<h2>ğŸ§ª ê²€ì¦ í…ŒìŠ¤íŠ¸ ê²°ê³¼</h2>
<h3>âœ… ë°ì´í„°ë² ì´ìŠ¤ ê²€ì¦(7/7 í…ŒìŠ¤íŠ¸ í†µê³¼)</h3>
<pre><code>âœ… ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
âœ… ìŠ¤í‚¤ë§ˆ ê²€ì¦(í…Œì´ë¸” 10ê°œ, ë·° 3ê°œ)
âœ… ë©”ëª¨ë¦¬ ì‚½ì…
âœ… ë©”ëª¨ë¦¬ ê²€ìƒ‰
âœ… ì‚¬ìš©ëŸ‰ ì¶”ì 
âœ… ë©”íŠ¸ë¦­ ë¡œê¹…
âœ… ë°ì´í„°ë² ì´ìŠ¤ ë·°
</code></pre>
<p>[... 455ì¤„ ì¤‘ 199ì¤„ì´ ìƒëµë˜ì—ˆìŠµë‹ˆë‹¤ ...]</p>
<pre><code class="language-typescript">import { reasoningbank } from 'agentic-flow';

// í”ŒëŸ¬ê·¸ì¸ì„ ì´ˆê¸°í™”í•©ë‹ˆë‹¤
await reasoningbank.initialize();

// ì‘ì—…ì— ëŒ€í•œ ë©”ëª¨ë¦¬ë¥¼ ê²€ìƒ‰í•©ë‹ˆë‹¤
const memories = await reasoningbank.retrieveMemories(
  'How to handle CSRF tokens?',
  { domain: 'web', k: 3 }
);

// ê¶¤ì ì„ í‰ê°€í•©ë‹ˆë‹¤
const verdict = await reasoningbank.judgeTrajectory(
  trajectory,
  'Login to admin panel'
);

// ìƒˆë¡œìš´ ë©”ëª¨ë¦¬ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤
const memoryIds = await reasoningbank.distillMemories(
  trajectory,
  verdict,
  'Login task',
  { taskId: 'task-001', agentId: 'agent-web' }
);

// í†µí•©ì´ í•„ìš”í•œì§€ í™•ì¸í•©ë‹ˆë‹¤
if (reasoningbank.shouldConsolidate()) {
  const result = await reasoningbank.consolidate();
  console.log(`Pruned ${result.itemsPruned} old memories`);
}
</code></pre>
<hr>
<h2>ğŸ” ë³´ì•ˆ ë° ì»´í”Œë¼ì´ì–¸ìŠ¤</h2>
<h3>âœ… PII ìŠ¤í¬ëŸ¬ë¹™</h3>
<p>ëª¨ë“  ë©”ëª¨ë¦¬ëŠ” 9ê°œ íŒ¨í„´ìœ¼ë¡œ ìë™ ë§ˆìŠ¤í‚¹ë©ë‹ˆë‹¤:</p>
<ul>
<li>ì´ë©”ì¼</li>
<li>SSN</li>
<li>API í‚¤(Anthropic, GitHub, Slack)</li>
<li>ì‹ ìš©ì¹´ë“œ ë²ˆí˜¸</li>
<li>ì „í™”ë²ˆí˜¸</li>
<li>IP ì£¼ì†Œ</li>
<li>ë¹„ë°€ê°’ì´ í¬í•¨ëœ URL</li>
</ul>
<h3>âœ… ë©€í‹° í…Œë„ŒíŠ¸ ì§€ì›</h3>
<p>êµ¬ì„±ì—ì„œ í™œì„±í™”:</p>
<pre><code class="language-yaml">governance:
  tenant_scoped: true
</code></pre>
<p>ëª¨ë“  í…Œì´ë¸”ì— <code>tenant_id</code> ì»¬ëŸ¼ì„ ì¶”ê°€í•˜ì—¬ ê²©ë¦¬í•©ë‹ˆë‹¤.</p>
<hr>
<h2>ğŸ“Š ì„±ëŠ¥ íŠ¹ì„±</h2>
<h3>ë©”ëª¨ë¦¬ ì—°ì‚°</h3>
<table>
<thead>
<tr>
<th>Operation</th>
<th>Average Latency</th>
<th>Throughput</th>
</tr>
</thead>
<tbody>
<tr>
<td>Insert single memory</td>
<td>1.175 ms</td>
<td>851 ops/sec</td>
</tr>
<tr>
<td>Batch insert (100)</td>
<td>111.96 ms</td>
<td>893 ops/sec</td>
</tr>
<tr>
<td>Retrieve (filtered)</td>
<td>0.924 ms</td>
<td>1,083 ops/sec</td>
</tr>
<tr>
<td>Retrieve (unfiltered)</td>
<td>3.014 ms</td>
<td>332 ops/sec</td>
</tr>
<tr>
<td>Usage increment</td>
<td>0.047 ms</td>
<td>21,310 ops/sec</td>
</tr>
</tbody>
</table>
<h3>í™•ì¥ì„±</h3>
<ul>
<li><strong>1,000 memories</strong>: ì„ í˜• ì„±ëŠ¥</li>
<li><strong>10,000 memories</strong>: 10-20% ì„±ëŠ¥ ì €í•˜(ë²¤ì¹˜ë§ˆí¬ë¡œ í…ŒìŠ¤íŠ¸ë¨)</li>
<li><strong>100,000 memories</strong>: ë°ì´í„°ë² ì´ìŠ¤ íŠœë‹(ì¸ë±ìŠ¤, ìºì‹±) í•„ìš”</li>
</ul>
<hr>
<h2>âœ… ìµœì¢… ìƒíƒœ</h2>
<h3>êµ¬í˜„: 100% ì™„ë£Œ</h3>
<ul>
<li>âœ… ëª¨ë“  25ê°œ íŒŒì¼ êµ¬í˜„ ì™„ë£Œ</li>
<li>âœ… ëª¨ë“  í•µì‹¬ ì•Œê³ ë¦¬ì¦˜ ë™ì‘(ê²€ìƒ‰, í‰ê°€, ì¶”ì¶œ, í†µí•©, matts)</li>
<li>âœ… ë°ì´í„°ë² ì´ìŠ¤ ë ˆì´ì–´ ì‘ë™(15ê°œ ì‘ì—…)</li>
<li>âœ… Hooks í†µí•© ì¤€ë¹„ ì™„ë£Œ</li>
<li>âœ… NPM íŒ¨í‚¤ì§€ export êµ¬ì„± ì™„ë£Œ</li>
<li>âœ… CLI í†µí•© ë™ì‘</li>
<li>âœ… ì¢…í•© í…ŒìŠ¤íŠ¸ ì™„ë£Œ(ê²€ì¦, ê²€ìƒ‰, ë²¤ì¹˜ë§ˆí¬, í†µí•©)</li>
<li>âœ… ë¬¸ì„œí™” ì™„ë£Œ(README, ë³¸ ê°€ì´ë“œ)</li>
</ul>
<h3>TypeScript ë¹Œë“œ: âœ… ê²½ê³ ì™€ í•¨ê»˜ ì»´íŒŒì¼</h3>
<ul>
<li>queries.tsì— ë¹„ì°¨ë‹¨ íƒ€ì… ê²½ê³  5ê°œ</li>
<li>ëª¨ë“  ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™</li>
<li>ì»´íŒŒì¼ëœ ì‚°ì¶œë¬¼: <code>dist/reasoningbank/</code> (JS íŒŒì¼ 25ê°œ)</li>
</ul>
<h3>í…ŒìŠ¤íŠ¸: 27/27 í†µê³¼</h3>
<ul>
<li>âœ… ë°ì´í„°ë² ì´ìŠ¤ ê²€ì¦ í…ŒìŠ¤íŠ¸ 7ê°œ</li>
<li>âœ… ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ í…ŒìŠ¤íŠ¸ 3ê°œ</li>
<li>âœ… ì„±ëŠ¥ ë²¤ì¹˜ë§ˆí¬ 12ê°œ</li>
<li>âœ… í†µí•© í…ŒìŠ¤íŠ¸ ì„¹ì…˜ 5ê°œ</li>
</ul>
<h3>í†µí•©: âœ… í”„ë¡œë•ì…˜ ì¤€ë¹„ ì™„ë£Œ</h3>
<ul>
<li>âœ… ë©”ì¸ íŒ¨í‚¤ì§€ indexì—ì„œ exportë¨</li>
<li>âœ… <code>import { reasoningbank } from 'agentic-flow'</code> í˜•íƒœë¡œ ë™ì‘</li>
<li>âœ… CLI í›…ì´ <code>npx tsx</code>ë¡œ ì‹¤í–‰ ê°€ëŠ¥</li>
<li>âœ… API í‚¤ê°€ ì—†ì–´ë„ ìš°ì•„í•˜ê²Œ í´ë°±</li>
<li>âœ… ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ ì œê³µ</li>
<li>âœ… ì„±ëŠ¥ì´ ê¸°ì¤€ ëŒ€ë¹„ 2~200ë°° ë¹ ë¦„</li>
</ul>
<hr>
<h2>ğŸ“š ì°¸ê³  ìë£Œ</h2>
<ol>
<li><strong>Paper</strong>: https://arxiv.org/html/2509.25140v1</li>
<li><strong>README</strong>: <code>src/reasoningbank/README.md</code></li>
<li><strong>Config</strong>: <code>src/reasoningbank/config/reasoningbank.yaml</code></li>
<li><strong>Main Entry</strong>: <code>src/reasoningbank/index.ts</code></li>
<li><strong>Database Schema</strong>: <code>src/reasoningbank/migrations/001_reasoningbank_schema.sql</code></li>
</ol>
<hr>
<p><strong>ReasoningBankëŠ” ì¦‰ì‹œ ë°°í¬í•  ì¤€ë¹„ê°€ ë˜ì–´ ìˆìœ¼ë©° ì—ì´ì „íŠ¸ ê²½í—˜ì—ì„œ í•™ìŠµì„ ì‹œì‘í•©ë‹ˆë‹¤!</strong> ğŸš€</p>

  </div>
</article>

  </main>

  <footer>
    <p>&copy; 2025 Hanson Kim. All rights reserved.</p>
  </footer>
</body>
</html>
